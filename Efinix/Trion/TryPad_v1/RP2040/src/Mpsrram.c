/*------------------------------------------------------------------------------
 * Create 2024/07/09
 * Author Kouta Kimura
 * 
 *-----------------------------------------------------------------------------*/
#include "trypad.h"


/**-----------------------------------------------------------------------------
 * ファイル内 グローバル変数
 *-----------------------------------------------------------------------------*/


/**-----------------------------------------------------------------------------
 * ファイル内 プロトタイプ宣言
 *-----------------------------------------------------------------------------*/


/**-----------------------------------------------------------------------------
 * USER MACRO / 
 *-----------------------------------------------------------------------------*/


/**-----------------------------------------------------------------------------
 * PSRAM Initialize
 *-----------------------------------------------------------------------------*/
void psram_init(void)
{
	usi_write(RAM_REG_RAM_MEM_CLK_DIV, 0);
	usi_write(RAM_REG_RAM_CFG_RST, 1);
	usi_write(RAM_REG_RAM_CFG_CMD, 0x35);
	usi_write(RAM_REG_RAM_CFG_ENABLE, 1);
	usi_write(RAM_REG_RAM_CFG_RST, 0);
	usi_read_wait(RAM_REG_RAM_CFG_DONE, 0x01);
	usi_write(RAM_REG_RAM_CFG_RST, 1);
}