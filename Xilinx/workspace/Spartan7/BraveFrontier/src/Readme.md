<h1>【FPGAゲーム】</h1>

- [1. 概要](#1-概要)
- [2. ハードウェア構成](#2-ハードウェア構成)
- [3. コーディング規則](#3-コーディング規則)
- [4. ファイル・ディレクトリ構成](#4-ファイルディレクトリ構成)
- [5. アドレス構成](#5-アドレス構成)
</br></br>

## 1. 概要
FPGA を搭載した自作基板を作成、機能を実装しイベントでの販売を目標としたプロジェクト。</br>
原価を抑えるため、Xilinx FPGAの中でも低価格な Spartna7 を採用する。
</br>
<!-- ![](res/IMG_3552.jpg) -->
</br>

## 2. ハードウェア構成
<!-- ![](res/回路図.pdf) -->

## 3. コーディング規則
- parameter locparama は小文字 p, lp から開始し、なるべく詳細な命名を行う</br>
- input outputのportは小文字 i, o から開始する。</br>
- 変数のプレフィックスは、w->ネット型wire変数, q->D-FFにしないreg変数, r->D-FFにするreg変数</br>
- よく使用するハンド・シェイク信号は、Valid->Vld, Ready->Rdy, ClockEnable->Cke と省略する</br>
- module の 入出力 Port のプレフィックス S->Slave, M->Master とする</br>
</br>

## 4. ファイル・ディレクトリ構成
ファイル名 | 詳細
-|-
DGB | Dotデータの生成ブロック
DTB | ディプレイ信号のタイミングデータ生成ブロック
PFB | アプリケーションブロックとディスプレイブロックを接続する Async FIFO ブロック
PGB | キャラクターの座標生成ブロック
ROB | 複数のRGB値の計算を行い結果を出力するブロック
SSB | 非同期信号の外部スイッチをチャタリング除去を行いBitを取得するブロック
TGB | 取得したピクセルデータをHDMIのTMDS信号に変換して出力するブロック
GameSys | 信号が外に出ず内部で処理が完結するブロックを管理するモジュール
GameTop | プロジェクトのトップモジュール
</br>

## 5. アドレス構成
機能名 | アドレス | 詳細
-|-|-
GPIO  | 0x0000_0100 | 外部 LED の操作を行う
PWM   | 0x0000_0200 | ディスプレイのバックライトの調光を行う
SPI   | 0x0000_0300 | 外部フラッシュメモリと通信を行う
I2C   | 0x0000_0400 | 外部マイコン2つ + 加速度センサと通信を行う
PGB   | 0x0000_0500 | ドットデータの生成・合成など、表示データの操作を行う
AGB   | 0x0000_0600 | サウンドの生成・合成など、音源データの操作を行う
VDMA  | 0x0000_0700 | メモリのフレームバッファ領域に Master を介さずにアクセスを行う
ADMA  | 0x0000_0800 | メモリのサウンドバッファ領域に Master を介さずにアクセスを行う
PSRAM | 0x0000_0900 | 外部 RAM と通信を行う
USI/F | 0x0000_1000 | 汎用バスシステムの一つ、ペリフェラルのレジスタ操作と調停を行う
UFI/F | 0x0000_1100 | 専用バスシステムの一つ、DMA 操作の調停を行う
MCB   | 0x8000_1200 | Master としてプロセッサーの制御を行う
</br>

</br>