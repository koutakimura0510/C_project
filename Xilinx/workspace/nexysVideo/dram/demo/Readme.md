<h1>【Nexys Video Oled demo】</h1>

- [1. 概要](#1-概要)
- [2. コーディング規則](#2-コーディング規則)
- [3. ファイル概要](#3-ファイル概要)
- [4. 端子説明](#4-端子説明)
</br></br>

## 1. 概要
評価ボード付属のOLEDのデモプレイを管理する。</br>
</br>
![](res/IMG_3552.jpg)
</br>

## 2. コーディング規則
- locparamaなどの定数値は全て大文字で使用</br>
- input outputの端子は小文字・大文字を混ぜたものを使用</br>
- module内のreg・wireは全て小文字で使用</br>
- input output端子に接続する変数名は同じにする</br>
</br>

## 3. ファイル概要
ファイル名 | 詳細
-|-
oledCmd | 初期設定後の描画範囲設定Romデータ
oledDisp | 設定後の描画Romデータと作業領域
oledInit | 起動時の初期設定Romデータ
oledRp | 各設定Romのアドレス参照用ポインタ
oledSend | 状況に応じて送信データを選択するステートマシン
oledState | 起動時のリセット信号などの状態遷移を管理
oledTime | 設定に必要な待機時間を生成
oledTop | 上記oled操作ファイルのwrapper
spiCtrl | oled用のSPI通信
top | プロジェクト全体のwrapper
</br>
</br>
## 4. 端子説明
端子 | 詳細
-|-
  CK,CK# クロック信号 (Clock) | DDR3 SDRAMが動作する基準であるタイミング決定を行う差動クロックを入力する</br>CKの上がりエッジとCK#の下がりエッジの交点を基準にアドレスやコマンドを受け取り、CKとCK#の交点を基準にデータ出力を行う。
 CKE クロックイネーブル信号 (Clock Enable) | デバイスの入出力信号に対してクロックが有効か無効かを決定する。</br>CKE入力がハイでクロックを有効、ローでクロックを無効になる。</br>プリチャージパワーダウン (Precharge Power Down),セルフリフレッシュ (Self Refresh) </br>またはアクティブパワーダウン (Active Power Down) 時にはCKEをローにする。
CS# チップセレクト信号 (Chip Select) | CS# ローでコマンド入力は有効、CS#がハイでコマンド入力は無効。ただし動作中のコマンドはCS#をハイにしても継続する。
ODT オンダイターミネーション信号 (On Die Termination:ODT) | ODTがハイで内蔵する終端抵抗が有効になる。</br>ODTはDQ, DQS, DQS#, DMTDQS# NUDQS#のみ供給され、</br>それ以外の入力ピン (CKE, CS#, RAS#, CAS#, WE#, ODT, RESET#, BA0-BA2 A0-A13) には供給されない。
RAS#,CAS#,WE#</br>ロウアドレスストローブ信号 (Row Address Strobe:RAS)</br>カラムアドレスストローブ信号 (Column Address Strobe:CAS),</br>ライトイネーブル信号(Write Enable:WE) | DDR3 SDRAMの動作を決定するコマンドを入力する（後述のコマンド一覧参照）。
DM(DMU DML) データマスク信号 (Data Mask:DM) | ライト動作時、ハイのときのデータ入力はマスクされデバイスへ書き込まれない。</br>x8デバイスでTDQSを有効にした場合、TDQSとして動作する (DMは無効)。
BA0-BA2 バンクアドレス信号 (Bank Address) | アクティブコマンド (Active) 時にリード/ライトするバンクを選択する。</br>モードレジスタ (Mode Register) の種類 (MR0～MR3) を選択するためにも利用される。
A0-A13 アドレス信号 (Address) | メモリアレイの読み書きしたいセル位置を特定するアドレスを入力する。 </br>アクティブコマンド入力時にロウアドレス、リード/ライトコマンド入力時にバースト動作の先頭カラムアドレスを選択する。</br>モードレジスタ設定にも用いられる。
A10/AP オートプリチャージ信号 (Auto Precharge) | リード/ライトコマンド時に指定するカラムアドレスはA0-A9,A11,A13で指定する。</br>そのためリード/ライトコマンド入力時のA10はアドレス入力に使わない。</br>代わりにA10はリード/ライト後にアクセスしているバンクに対して オートプリチャージを行うか(A10をハイ)、行わないか(A10 ロー)を指定するために用いられる。</br>またプリチャージコマンド入力時にA10はプリチャージの対象バンクの選択に用いられる。</br>A10 ローのときプリチャージはバンク一つに対してのみ行い、A10をハイのときプリチャージは全てのバンクに対して行われる。</br>プリチャージの対象バンクはバンクアドレスで選択する
A12/BC# バーストチョップ (Burst Chop:BC) 信号 | リード/ライトコマンド入力時バースト動作を4データ分で中断する（バーストチョップする）か (A12 ロー)、行わないか (A12をハイ) を選択する。
RESET# リセット信号 (RESET) | リセットピンにローを入力するといつでもデバイスはリセット動作を行う。</br>リセットピンがハイのときは何も行わない。通常動作中はリセットピンは安定してハイを維持する必要がある。</br>リセットピンはCMOSレールトゥレール (Rail to Rail:ハイ/ローの電圧幅いっぱいに振る信号) で電源電圧VDDとグランド電圧VSSに対して80%でハイ、20%でローとなる。</br>例えばVDDが1.5Vの場合は1.2Vでハイ、0.3Vでローとなる。
DQ データ信号 | データの入出力を行う。
DQS DQS# データストローブ信号 (Data Strobe) | データのリード/ライト のタイミングを指定する差動ストローブ信号。</br>ライト時、DQSとDQS#の交点をデータウインドウの中心を打ち抜くタイミングで信号を入力する。</br>リード時、DQS、DQS#のエッジはデータエッジと揃う。
TDQS TDQS# ターミネーションデータストローブ (Termination Data Strobe) | x8 DRAMのみ有効。モードレジスタ (Mode Register) MR1でTDQS機能を有効にした場合、</br>TDQS/TDQS#はDQS/DQS#に対する終端抵抗を提供する。</br>TDQS機能が無効の場合、TDQSはデータマスクとして動作する。TDQS#は使用されない。

</br>